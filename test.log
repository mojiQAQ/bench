=== 压测配置 ===
服务器地址: http://10.23.192.206:8080
测试持续时间: 20 秒
流量控制模式: qps
目标QPS: 3000
操作比例:
  传感器数据上报: 0.60
  传感器读写操作: 0.25
  批量操作: 0.10
  查询操作: 0.05
  总比例: 1.00
设备ID范围: 1000
数据大小范围: 16 - 64 字节
报告间隔: 1 秒
================
开始压测，持续时间: 20 秒
流量控制模式: qps
目标QPS: 3000 (每个请求独立goroutine)
[1.0s] 发送QPS: 2570.2 | 完成QPS: 2570.2 | 平均发送: 2570.2 | 平均完成: 2570.2 | 待处理: 0 | 错误: 0
       延迟(ms): 上报67.6 读写74.6 批量104.7 查询120.3
       高优先级延迟(ms): 上报65.3(319) 读写81.7(120) 批量0.0(0) 查询0.0(0)
[2.0s] 发送QPS: 2849.2 | 完成QPS: 2849.2 | 平均发送: 2709.6 | 平均完成: 2709.6 | 待处理: 0 | 错误: 0
       延迟(ms): 上报100.7 读写103.4 批量127.9 查询192.4
       高优先级延迟(ms): 上报91.6(671) 读写107.9(251) 批量0.0(0) 查询0.0(0)
[3.0s] 发送QPS: 2425.7 | 完成QPS: 2425.7 | 平均发送: 2614.9 | 平均完成: 2614.9 | 待处理: 0 | 错误: 0
       延迟(ms): 上报141.3 读写149.9 批量168.1 查询266.8
       高优先级延迟(ms): 上报128.4(943) 读写154.7(381) 批量0.0(0) 查询0.0(0)
[4.0s] 发送QPS: 2377.7 | 完成QPS: 2377.7 | 平均发送: 2555.6 | 平均完成: 2555.6 | 待处理: 0 | 错误: 0
       延迟(ms): 上报195.9 读写207.8 批量219.1 查询362.4
       高优先级延迟(ms): 上报184.4(1224) 读写213.1(501) 批量0.0(0) 查询0.0(0)
[5.0s] 发送QPS: 2204.3 | 完成QPS: 2204.3 | 平均发送: 2485.4 | 平均完成: 2485.4 | 待处理: 0 | 错误: 0
       延迟(ms): 上报258.2 读写274.4 批量282.0 查询495.9
       高优先级延迟(ms): 上报262.5(1507) 读写260.6(603) 批量0.0(0) 查询0.0(0)
[6.0s] 发送QPS: 2357.6 | 完成QPS: 2357.6 | 平均发送: 2464.1 | 平均完成: 2464.1 | 待处理: 0 | 错误: 0
       延迟(ms): 上报329.0 读写357.4 批量353.1 查询594.2
       高优先级延迟(ms): 上报324.1(1768) 读写362.3(730) 批量0.0(0) 查询0.0(0)
[7.0s] 发送QPS: 2235.2 | 完成QPS: 2235.2 | 平均发送: 2431.4 | 平均完成: 2431.4 | 待处理: 0 | 错误: 0
       延迟(ms): 上报418.0 读写444.0 批量432.8 查询734.7
       高优先级延迟(ms): 上报402.3(2019) 读写426.5(851) 批量0.0(0) 查询0.0(0)
[8.0s] 发送QPS: 2306.9 | 完成QPS: 2306.9 | 平均发送: 2415.8 | 平均完成: 2415.8 | 待处理: 0 | 错误: 0
       延迟(ms): 上报508.5 读写534.4 批量547.6 查询877.9
       高优先级延迟(ms): 上报498.1(2318) 读写514.4(957) 批量0.0(0) 查询0.0(0)
[9.0s] 发送QPS: 2146.5 | 完成QPS: 2146.5 | 平均发送: 2385.8 | 平均完成: 2385.8 | 待处理: 0 | 错误: 0
       延迟(ms): 上报596.7 读写618.5 批量620.7 查询1001.9
       高优先级延迟(ms): 上报583.1(2581) 读写604.3(1068) 批量0.0(0) 查询0.0(0)
[10.0s] 发送QPS: 2293.0 | 完成QPS: 2293.0 | 平均发送: 2376.6 | 平均完成: 2376.6 | 待处理: 0 | 错误: 0
       延迟(ms): 上报674.5 读写696.0 批量716.3 查询1207.8
       高优先级延迟(ms): 上报661.7(2850) 读写671.5(1157) 批量0.0(0) 查询0.0(0)
[11.0s] 发送QPS: 2297.3 | 完成QPS: 2297.3 | 平均发送: 2369.3 | 平均完成: 2369.3 | 待处理: 0 | 错误: 0
       延迟(ms): 上报731.0 读写752.5 批量778.9 查询1360.1
       高优先级延迟(ms): 上报717.7(3150) 读写724.5(1285) 批量0.0(0) 查询0.0(0)
[12.0s] 发送QPS: 2186.3 | 完成QPS: 2186.3 | 平均发送: 2354.1 | 平均完成: 2354.1 | 待处理: 0 | 错误: 0
       延迟(ms): 上报763.5 读写785.7 批量827.3 查询1466.3
       高优先级延迟(ms): 上报761.6(3430) 读写757.5(1390) 批量0.0(0) 查询0.0(0)
[13.0s] 发送QPS: 2094.7 | 完成QPS: 2094.7 | 平均发送: 2334.4 | 平均完成: 2334.4 | 待处理: 0 | 错误: 0
       延迟(ms): 上报793.6 读写808.6 批量854.8 查询1520.9
       高优先级延迟(ms): 上报790.7(3701) 读写788.1(1500) 批量0.0(0) 查询0.0(0)
[14.0s] 发送QPS: 2349.4 | 完成QPS: 2349.4 | 平均发送: 2335.5 | 平均完成: 2335.5 | 待处理: 0 | 错误: 0
       延迟(ms): 上报811.2 读写825.6 批量867.7 查询1554.3
       高优先级延迟(ms): 上报806.1(3983) 读写813.5(1634) 批量0.0(0) 查询0.0(0)
[15.0s] 发送QPS: 2265.6 | 完成QPS: 2265.6 | 平均发送: 2330.8 | 平均完成: 2330.8 | 待处理: 0 | 错误: 0
       延迟(ms): 上报819.5 读写832.1 批量871.0 查询1572.5
       高优先级延迟(ms): 上报809.7(4244) 读写821.2(1730) 批量0.0(0) 查询0.0(0)
[16.0s] 发送QPS: 2077.3 | 完成QPS: 2077.3 | 平均发送: 2314.9 | 平均完成: 2314.9 | 待处理: 0 | 错误: 0
       延迟(ms): 上报816.6 读写831.1 批量867.1 查询1574.9
       高优先级延迟(ms): 上报808.6(4488) 读写816.6(1822) 批量0.0(0) 查询0.0(0)
[17.0s] 发送QPS: 1596.6 | 完成QPS: 1596.6 | 平均发送: 2272.5 | 平均完成: 2272.5 | 待处理: 0 | 错误: 0
       延迟(ms): 上报823.6 读写835.0 批量868.5 查询1574.4
       高优先级延迟(ms): 上报818.2(4682) 读写822.3(1888) 批量0.0(0) 查询0.0(0)
[18.0s] 发送QPS: 141.3 | 完成QPS: 134.3 | 平均发送: 2153.6 | 平均完成: 2153.3 | 待处理: 0 | 错误: 7
       延迟(ms): 上报822.6 读写833.8 批量867.4 查询1569.2
       高优先级延迟(ms): 上报817.5(4697) 读写821.0(1898) 批量0.0(0) 查询0.0(0)
[19.0s] 发送QPS: 196.8 | 完成QPS: 101.9 | 平均发送: 2052.6 | 平均完成: 2047.4 | 待处理: 0 | 错误: 100
       延迟(ms): 上报823.9 读写836.0 批量868.7 查询1568.6
       高优先级延迟(ms): 上报819.4(4710) 读写823.2(1905) 批量0.0(0) 查询0.0(0)
[20.0s] 发送QPS: 257.6 | 完成QPS: 94.9 | 平均发送: 1962.7 | 平均完成: 1949.6 | 待处理: 0 | 错误: 263
       延迟(ms): 上报825.7 读写838.9 批量871.0 查询1568.8
       高优先级延迟(ms): 上报820.5(4717) 读写826.4(1912) 批量0.0(0) 查询0.0(0)

测试时间到，正在停止...
等待剩余请求完成...

生成最终统计报告...

=== 最终统计报告 ===
总运行时间: 22.11 秒
发送请求数: 39298
完成请求数: 39000
  传感器数据上报: 23391 (错误: 181)
  传感器读写操作: 9738 (错误: 72)
  批量操作: 3877 (错误: 29)
  查询操作: 1994 (错误: 16)
待处理请求: 0
总错误数: 298

高优先级请求 (Priority≥3) 统计:
  传感器数据上报: 4717
  传感器读写操作: 1912
  批量操作: 0
  查询操作: 0
  高优先级请求总数: 6629 (占比: 17.0%)
平均发送 QPS: 1777.10
平均完成 QPS: 1763.62
错误率: 0.76%

=== 延迟分析 ===
传感器数据上报:
  平均=825.79ms, 最小=2.23ms, 最大=10466.41ms
  延迟分布:
    ≤1ms: 0 (0.0%)
    ≤2ms: 0 (0.0%)
    ≤5ms: 45 (0.2%)
    ≤10ms: 187 (0.8%)
    ≤20ms: 498 (2.1%)
    ≤50ms: 1425 (6.1%)
    ≤100ms: 1955 (8.4%)
    ≤200ms: 2722 (11.6%)
    ≤500ms: 5143 (22.0%)
    ≤1000ms: 4665 (19.9%)
    ≤2000ms: 4216 (18.0%)
    ≤5000ms: 2397 (10.2%)
    >5000ms: 138 (0.6%)

  高优先级请求 (Priority≥3): 4717 个请求
  高优先级平均=820.55ms, 最小=3.34ms, 最大=8492.92ms
  高优先级延迟分布:
    ≤1ms: 0 (0.0%)
    ≤2ms: 0 (0.0%)
    ≤5ms: 9 (0.2%)
    ≤10ms: 44 (0.9%)
    ≤20ms: 97 (2.1%)
    ≤50ms: 296 (6.3%)
    ≤100ms: 397 (8.4%)
    ≤200ms: 584 (12.4%)
    ≤500ms: 986 (20.9%)
    ≤1000ms: 944 (20.0%)
    ≤2000ms: 862 (18.3%)
    ≤5000ms: 472 (10.0%)
    >5000ms: 26 (0.6%)

传感器读写操作:
  平均=839.02ms, 最小=4.49ms, 最大=10719.03ms
  延迟分布:
    ≤1ms: 0 (0.0%)
    ≤2ms: 0 (0.0%)
    ≤5ms: 2 (0.0%)
    ≤10ms: 37 (0.4%)
    ≤20ms: 208 (2.1%)
    ≤50ms: 576 (5.9%)
    ≤100ms: 823 (8.5%)
    ≤200ms: 1129 (11.6%)
    ≤500ms: 2189 (22.5%)
    ≤1000ms: 1948 (20.0%)
    ≤2000ms: 1789 (18.4%)
    ≤5000ms: 968 (9.9%)
    >5000ms: 69 (0.7%)

  高优先级请求 (Priority≥3): 1912 个请求
  高优先级平均=826.44ms, 最小=4.49ms, 最大=7509.51ms
  高优先级延迟分布:
    ≤1ms: 0 (0.0%)
    ≤2ms: 0 (0.0%)
    ≤5ms: 1 (0.1%)
    ≤10ms: 7 (0.4%)
    ≤20ms: 40 (2.1%)
    ≤50ms: 110 (5.8%)
    ≤100ms: 165 (8.6%)
    ≤200ms: 239 (12.5%)
    ≤500ms: 418 (21.9%)
    ≤1000ms: 375 (19.6%)
    ≤2000ms: 360 (18.8%)
    ≤5000ms: 180 (9.4%)
    >5000ms: 17 (0.9%)

批量操作:
  平均=871.46ms, 最小=4.87ms, 最大=9192.47ms
  延迟分布:
    ≤1ms: 0 (0.0%)
    ≤2ms: 0 (0.0%)
    ≤5ms: 1 (0.0%)
    ≤10ms: 6 (0.2%)
    ≤20ms: 22 (0.6%)
    ≤50ms: 178 (4.6%)
    ≤100ms: 335 (8.6%)
    ≤200ms: 507 (13.1%)
    ≤500ms: 843 (21.7%)
    ≤1000ms: 841 (21.7%)
    ≤2000ms: 696 (18.0%)
    ≤5000ms: 416 (10.7%)
    >5000ms: 32 (0.8%)

查询操作:
  平均=1568.79ms, 最小=7.38ms, 最大=9981.98ms
  延迟分布:
    ≤1ms: 0 (0.0%)
    ≤2ms: 0 (0.0%)
    ≤5ms: 0 (0.0%)
    ≤10ms: 3 (0.2%)
    ≤20ms: 11 (0.6%)
    ≤50ms: 23 (1.2%)
    ≤100ms: 58 (2.9%)
    ≤200ms: 106 (5.3%)
    ≤500ms: 302 (15.1%)
    ≤1000ms: 401 (20.1%)
    ≤2000ms: 508 (25.5%)
    ≤5000ms: 517 (25.9%)
    >5000ms: 65 (3.3%)